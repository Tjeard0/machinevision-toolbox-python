<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Image shape/size changing &mdash; Machine Vision Toolbox 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script>window.MathJax = {"tex": {"macros": {"presup": ["\\,{}^{#1}\\!", 1], "SE": ["\\mathbf{SE}(#1)", 1], "SO": ["\\mathbf{SO}(#1)", 1], "se": ["\\mathbf{se}(#1)", 1], "so": ["\\mathbf{so}(#1)", 1], "vec": ["\\boldsymbol{#1}", 1], "dvec": ["\\dot{\\boldsymbol{#1}}", 1], "hvec": ["\\tilde{\\boldsymbol{#1}}", 1], "ddvec": ["\\ddot{\\boldsymbol{#1}}", 1], "fvec": ["\\presup{#1}\\boldsymbol{#2}", 2], "fdvec": ["\\presup{#1}\\dot{\\boldsymbol{#2}}", 2], "fddvec": ["\\presup{#1}\\ddot{\\boldsymbol{#2}}", 2], "norm": ["\\Vert #1 \\Vert", 1], "mat": ["\\mathbf{#1}", 1], "fmat": ["\\presup{#1}\\mathbf{#2}", 2], "sk": ["\\left[#1\\right]", 1], "skx": ["\\left[#1\\right]_{\\times}", 1], "vex": ["\\vee\\left( #1\\right)", 1], "vexx": ["\\vee_{\\times}\\left( #1\\right)", 1], "q": "\\mathring{q}", "fq": ["\\presup{#1}\\mathring{q}", 1]}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Spatial operations" href="image_spatial.html" />
    <link rel="prev" title="Color operations" href="image_color.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Machine Vision Toolbox
            <img src="_static/VisionToolboxLogo_CircBlack.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="high-level.html">Class reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="image_class.html">Image processing</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="image_core.html">Image class core</a></li>
<li class="toctree-l3"><a class="reference internal" href="image_io.html">Image input/output</a></li>
<li class="toctree-l3"><a class="reference internal" href="image_constant.html">Constant images</a></li>
<li class="toctree-l3"><a class="reference internal" href="image_imageproc.html">Image processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="image_color.html">Color operations</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Image shape/size changing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin"><code class="docutils literal notranslate"><span class="pre">ImageReshapeMixin</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="image_spatial.html">Spatial operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="image_morph.html">Morphological operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="image_multiview.html">Multiview image processing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="image_features.html">Image feature extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="sources.html">Image sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="camera.html">Camera projection models</a></li>
<li class="toctree-l2"><a class="reference internal" href="bundle-adjust.html">Bundle adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="bag-of-words.html">Bag of words</a></li>
<li class="toctree-l2"><a class="reference internal" href="point-cloud.html">Point clouds</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="low-level.html">Function reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Machine Vision Toolbox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="high-level.html">Class reference</a> &raquo;</li>
          <li><a href="image_class.html">Image processing</a> &raquo;</li>
      <li>Image shape/size changing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/image_reshape.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="image_color.html" class="btn btn-neutral float-left" title="Color operations" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="image_spatial.html" class="btn btn-neutral float-right" title="Spatial operations" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="image-shape-size-changing">
<h1>Image shape/size changing<a class="headerlink" href="#image-shape-size-changing" title="Permalink to this heading"></a></h1>
<p>These methods change the shape/size of image or combine multiple images.</p>
<dl class="py class">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.ImageReshape.</span></span><span class="sig-name descname"><span class="pre">ImageReshapeMixin</span></span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.trim">
<span class="sig-name descname"><span class="pre">trim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.trim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.trim" title="Permalink to this definition"></a></dt>
<dd><p>Trim pixels from the edges of the image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pixels to trim from left side of image, defaults to 0</p></li>
<li><p><strong>right</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pixels to trim from right side of image, defaults to 0</p></li>
<li><p><strong>top</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pixels to trim from top side of image, defaults to 0</p></li>
<li><p><strong>bottom</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pixels to trim from bottom side of image, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>trimmed image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Trim pixels from the edges of the image.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;flowers1.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span>
<span class="go">Image: 640 x 426 (uint8), R:G:B [.../images/flowers1.png]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">Image: 540 x 326 (uint8), R:G:B</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.pad">
<span class="sig-name descname"><span class="pre">pad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.pad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.pad" title="Permalink to this definition"></a></dt>
<dd><p>Pad the edges of the image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pixels to pad on left side of image, defaults to 0</p></li>
<li><p><strong>right</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pixels to pad on right side of image, defaults to 0</p></li>
<li><p><strong>top</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pixels to pad on top side of image, defaults to 0</p></li>
<li><p><strong>bottom</strong> (<em>int</em><em>, </em><em>optional</em>) – number of pixels to pad on bottom side of image, defaults to 0</p></li>
<li><p><strong>value</strong> (<em>scalar</em><em>, </em><em>str</em><em>, </em><em>array_like</em>) – value of pixels to pad with</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>padded image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Pad the edges of the image with pixels equal to <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;flowers1.png&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span>
<span class="go">Image: 640 x 426 (float32), R:G:B [.../images/flowers1.png]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="go">Image: 660 x 446 (float32), R:G:B</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Hstack">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Hstack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">images</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_offsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.Hstack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Hstack" title="Permalink to this definition"></a></dt>
<dd><p>Horizontal concatenation of images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>images</strong> (iterable of <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – images to concatenate horizontally</p></li>
<li><p><strong>sep</strong> (<em>int</em><em>, </em><em>optional</em>) – separation between images, defaults to 1</p></li>
<li><p><strong>bgcolor</strong> (<em>scalar</em><em>, </em><em>string</em><em>, </em><em>array_like</em><em>, </em><em>optional</em>) – color of background, seen in the separation between
images, defaults to 0</p></li>
<li><p><strong>return_offsets</strong> (<em>bool</em><em>, </em><em>optional</em>) – additionally return the horizontal coordinates of
each input image within the output image, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – all images must have the same dtype</p></li>
<li><p><strong>ValueError</strong> – all images must have the same color order</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>horizontally stacked images</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Create a new image by stacking the input images horizontally, with a
vertical separator line of width <code class="docutils literal notranslate"><span class="pre">sep</span></code> and color <code class="docutils literal notranslate"><span class="pre">bgcolor</span></code>.</p>
<p>The horizontal coordinate of the first column of each image, in the
composite output image, can be optionally returned if <code class="docutils literal notranslate"><span class="pre">return_offsets</span></code>
is True.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;street.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span>
<span class="go">Image: 1280 x 851 (uint8) [.../images/street.png]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Image</span><span class="o">.</span><span class="n">Hstack</span><span class="p">((</span><span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">))</span>
<span class="go">Image: 3842 x 851 (uint8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Image</span><span class="o">.</span><span class="n">Hstack</span><span class="p">((</span><span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">),</span> <span class="n">return_offsets</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(Image: 3842 x 851 (uint8), [0, 1281, 2562])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Vstack" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Vstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Vstack</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Tile" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Tile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Tile</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Vstack">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Vstack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">images</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_offsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.Vstack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Vstack" title="Permalink to this definition"></a></dt>
<dd><p>Vertical concatenation of images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>images</strong> (iterable of <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – images to concatenate vertically</p></li>
<li><p><strong>sep</strong> (<em>int</em><em>, </em><em>optional</em>) – separation between images, defaults to 1</p></li>
<li><p><strong>bgcolor</strong> (<em>scalar</em><em>, </em><em>string</em><em>, </em><em>array_like</em><em>, </em><em>optional</em>) – color of background, seen in the separation between
images, defaults to 0</p></li>
<li><p><strong>return_offsets</strong> (<em>bool</em><em>, </em><em>optional</em>) – additionally return the vertical coordinates of
each input image within the output image, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – all images must have the same dtype</p></li>
<li><p><strong>ValueError</strong> – all images must have the same color order</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>vertically stacked images</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Create a new image by stacking the input images vertically, with a
horizontal separator line of width <code class="docutils literal notranslate"><span class="pre">sep</span></code> and color <code class="docutils literal notranslate"><span class="pre">bgcolor</span></code>.</p>
<p>The vertical coordinate of the first row of each image, in the
composite output image, can be optionally returned if <code class="docutils literal notranslate"><span class="pre">return_offsets</span></code>
is True.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;street.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span>
<span class="go">Image: 1280 x 851 (uint8) [.../images/street.png]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Image</span><span class="o">.</span><span class="n">Vstack</span><span class="p">((</span><span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">))</span>
<span class="go">Image: 1280 x 2555 (uint8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Image</span><span class="o">.</span><span class="n">Vstack</span><span class="p">((</span><span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">),</span> <span class="n">return_offsets</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(Image: 1280 x 2555 (uint8), [0, 852, 1704])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Hstack" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Hstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Hstack</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Tile" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Tile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Tile</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Tile">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Tile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.Tile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Tile" title="Permalink to this definition"></a></dt>
<dd><p>Tile images into a grid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiles</strong> (iterable of <code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>) – images to tile</p></li>
<li><p><strong>columns</strong> (<em>int</em><em>, </em><em>optional</em>) – number of columns in the grid, defaults to 4</p></li>
<li><p><strong>sep</strong> (<em>int</em><em>, </em><em>optional</em>) – separation between images, defaults to 1</p></li>
<li><p><strong>bgcolor</strong> (<em>scalar</em><em>, </em><em>string</em><em>, </em><em>array_like</em><em>, </em><em>optional</em>) – color of background, seen in the separation between images, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – all images must have the same size</p></li>
<li><p><strong>ValueError</strong> – all images must have the same dtype</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>grid of images</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> instance</p>
</dd>
</dl>
<p>Construct a new image by tiling the input images into a grid.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageCollection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">ImageCollection</span><span class="p">(</span><span class="s1">&#39;campus/*.png&#39;</span><span class="p">)</span>  <span class="c1"># image iterator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Image</span><span class="o">.</span><span class="n">Tile</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
<span class="go">Image: 2566 x 2138 (uint8), R:G:B</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Hstack" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Hstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Hstack</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Vstack" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.Vstack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Vstack</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.decimate">
<span class="sig-name descname"><span class="pre">decimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.decimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.decimate" title="Permalink to this definition"></a></dt>
<dd><p>Decimate an image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>int</em>) – decimation factor</p></li>
<li><p><strong>sigma</strong> (<em>float</em><em>, </em><em>optional</em>) – standard deviation for Gaussian kernel smoothing, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – decimation factor m must be an integer</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>decimated image</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Return a decimated version of the image whose size is
reduced by subsampling every <code class="docutils literal notranslate"><span class="pre">m</span></code> (an integer) pixels in both dimensions.</p>
<p>The image is smoothed
with a Gaussian kernel with standard deviation <code class="docutils literal notranslate"><span class="pre">sigma</span></code>.  If</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sigma</span></code> is None then  a value of <code class="docutils literal notranslate"><span class="pre">m/2</span></code> is used,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sigma</span></code> is zero then no smoothing is performed.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If the image has multiple planes, each plane is decimated.</p></li>
<li><p>Smoothing is used to eliminate aliasing artifacts and the
standard deviation should be chosen as a function of the maximum
spatial frequency in the image.</p></li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go">  45 198 123 195  39  64</span>
<span class="go">  64  16 112 104 239  62</span>
<span class="go"> 158  35 212   5  10   7</span>
<span class="go"> 170  83 214 181 230  84</span>
<span class="go">  70 112  15 193 238 218</span>
<span class="go"> 105 113 135 171 102 116</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">decimate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go">  45 123  39</span>
<span class="go"> 158 212  10</span>
<span class="go">  70  15 238</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.7.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.replicate" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.replicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replicate</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.scale" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.scale"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scale</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.replicate">
<span class="sig-name descname"><span class="pre">replicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.replicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.replicate" title="Permalink to this definition"></a></dt>
<dd><p>Replicate image pixels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – replication factor, defaults to 1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>image with replicated pixels</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Create an image where each input pixel becomes an <span class="math notranslate nohighlight">\(n \times n\)</span> 
patch of pixel values. This is a simple way of upscaling an image.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Random</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> 239 201 174  44  20</span>
<span class="go"> 115 212  22 137 169</span>
<span class="go">  22  31 186 205 119</span>
<span class="go">  63 136 148 189 150</span>
<span class="go"> 168 129 200 112  45</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bigger</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">replicate</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bigger</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
<span class="go"> 239 239 201 201 174 174  44  44  20  20</span>
<span class="go"> 239 239 201 201 174 174  44  44  20  20</span>
<span class="go"> 115 115 212 212  22  22 137 137 169 169</span>
<span class="go"> 115 115 212 212  22  22 137 137 169 169</span>
<span class="go">  22  22  31  31 186 186 205 205 119 119</span>
<span class="go">  22  22  31  31 186 186 205 205 119 119</span>
<span class="go">  63  63 136 136 148 148 189 189 150 150</span>
<span class="go">  63  63 136 136 148 148 189 189 150 150</span>
<span class="go"> 168 168 129 129 200 200 112 112  45  45</span>
<span class="go"> 168 168 129 129 200 200 112 112  45  45</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Works only for greyscale images.</p></li>
<li><p>The resulting image is “blocky”, apply Gaussian smoothing to 
reduce this.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.7.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.decimate" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.decimate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">decimate</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.roi">
<span class="sig-name descname"><span class="pre">roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.roi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.roi" title="Permalink to this definition"></a></dt>
<dd><p>Extract region of interest</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bbox</strong> (<em>array_like</em><em>(</em><em>4</em><em>)</em>) – region as [umin, umax, vmin, vmax]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>region of interest, optional bounding box</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code>, list</p>
</dd>
</dl>
<p>Return the specified region of the image.  If <code class="docutils literal notranslate"><span class="pre">bbox</span></code> is None the image
is displayed using Matplotlib and the user can interactively select the
region, returning the image region and the bounding box <code class="docutils literal notranslate"><span class="pre">[umin,</span> <span class="pre">umax,</span>
<span class="pre">vmin,</span> <span class="pre">vmax]</span></code>.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">smile</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">roi</span><span class="p">([</span><span class="mi">265</span><span class="p">,</span> <span class="mi">342</span><span class="p">,</span> <span class="mi">264</span><span class="p">,</span> <span class="mi">286</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.samesize">
<span class="sig-name descname"><span class="pre">samesize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.samesize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.samesize" title="Permalink to this definition"></a></dt>
<dd><p>Automatic image trimming</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> – image to match size with</p></li>
<li><p><strong>bias</strong> (<em>float</em><em>, </em><em>optional</em>) – bias that controls what part of the image is cropped, defaults to 0.5</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resized image</p>
</dd>
<dt class="field-odd">Rtype out</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Return a version of the image that has the same dimensions as <code class="docutils literal notranslate"><span class="pre">image2</span></code>.
This is achieved by cropping (to match the aspect ratio) and
scaling (to match the size).</p>
<p><code class="docutils literal notranslate"><span class="pre">bias</span></code> controls which part of the image is cropped. <code class="docutils literal notranslate"><span class="pre">bias</span></code> = 0.5 is
symmetric cropping, <code class="docutils literal notranslate"><span class="pre">bias</span></code> &lt; 0.5 moves the crop window up or to
the left, while <code class="docutils literal notranslate"><span class="pre">bias</span></code>&gt;0.5 moves the crop window down or to the
right.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foreground</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s2">&quot;greenscreen.png&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foreground</span>
<span class="go">Image: 1024 x 768 (float32), R:G:B [.../images/greenscreen.png]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">background</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s2">&quot;road.png&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">background</span>
<span class="go">Image: 1280 x 851 (float32), R:G:B [.../images/road.png]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">background</span><span class="o">.</span><span class="n">samesize</span><span class="p">(</span><span class="n">foreground</span><span class="p">)</span>
<span class="go">Image: 1024 x 768 (float32), R:G:B</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.4.1.1, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.trim" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.trim"><code class="xref py py-meth docutils literal notranslate"><span class="pre">trim</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.scale" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.scale"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scale</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.scale">
<span class="sig-name descname"><span class="pre">scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sfactor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.scale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.scale" title="Permalink to this definition"></a></dt>
<dd><p>Scale an image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sfactor</strong> (<em>scalar</em>) – scale factor</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation of kernel for image smoothing, in pixels</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – bad interpolation string</p></li>
<li><p><strong>ValueError</strong> – bad interpolation value</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>smoothed image</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code> instance</p>
</dd>
</dl>
<p>Rescale the image. If <code class="docutils literal notranslate"><span class="pre">sfactor&gt;</span> <span class="pre">1</span></code> the image is enlarged.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">sfactor</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> the image is made smaller and smoothing can be
applied to reduce sampling artefacts. If <code class="docutils literal notranslate"><span class="pre">sigma</span></code> is None, use default
for scale by sigma=1/sfactor/2. If <code class="docutils literal notranslate"><span class="pre">sigma=0</span></code> perform no smoothing.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>interpolation</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'cubic'</span></code></p></td>
<td><p>bicubic interpolation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'linear'</span></code></p></td>
<td><p>bilinear interpolation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'area'</span></code></p></td>
<td><p>resampling using pixel area relation</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Image: 1354 x 1400 (uint8), R:G:B</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="go">Image: 338 x 350 (uint8), R:G:B</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 11.7.2, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.opencv.org/3.4/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d">opencv.resize</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.rotate">
<span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.rotate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.rotate" title="Permalink to this definition"></a></dt>
<dd><p>Rotate an image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle</strong> (<em>scalar</em>) – rotatation angle [radians]</p></li>
<li><p><strong>centre</strong> (<em>array_like</em><em>(</em><em>2</em><em>)</em>) – centre of rotation, defaults to centre of image</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotated image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Rotate the image counter-clockwise by angle <code class="docutils literal notranslate"><span class="pre">angle</span></code> in radians.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
<span class="go">&lt;matplotlib.image.AxesImage object at 0x7f26094afc70&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Rotation is defined with respect to a z-axis which is into the
image, therefore counter-clockwise is a positive angle.</p></li>
<li><p>The pixels in the corners of the resulting image will be
undefined.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.rotate_spherical">
<span class="sig-name descname"><span class="pre">rotate_spherical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.rotate_spherical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.rotate_spherical" title="Permalink to this definition"></a></dt>
<dd><p>Rotate a spherical image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>R</strong> (<a class="reference external" href="https://petercorke.github.io/spatialmath-python/3d_orient_SO3.html#spatialmath.pose3d.SO3" title="(in Spatial Maths package v0.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">spatialmath.pose3d.SO3</span></code></a>) – an SO(3) rotation matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotated spherical image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Rotates pixels in the input spherical image by the SO(3) rotation matrix.</p>
<p>A spherical image is represented by a rectangular array of pixels with a
horizintal domain that spans azimuth angle  <span class="math notranslate nohighlight">\(\phi \in [0, 2\pi]\)</span>
and a vertical domain that spans colatitude angle :math:`       heta in [0,
pi]`.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.meshgrid" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.meshgrid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">meshgrid</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">uspan</span></code> <code class="xref py py-meth docutils literal notranslate"><span class="pre">vspan</span></code> <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.griddata.html#scipy.interpolate.griddata" title="(in SciPy v1.9.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.interpolate.griddata</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.meshgrid">
<span class="sig-name descname"><span class="pre">meshgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.meshgrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.meshgrid" title="Permalink to this definition"></a></dt>
<dd><p>Coordinate arrays for image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<em>int</em><em>, </em><em>optional</em>) – width of array in pixels, defaults to width of image</p></li>
<li><p><strong>height</strong> (<em>int</em><em>, </em><em>optional</em>) – height of array in pixels, defaults to height of image</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>domain of image</p>
</dd>
<dt class="field-odd">Rtype u</dt>
<dd class="field-odd"><p>ndarray(H,W), ndarray(H,W)</p>
</dd>
</dl>
<p>Create a pair of arrays <code class="docutils literal notranslate"><span class="pre">U</span></code> and <code class="docutils literal notranslate"><span class="pre">V</span></code> that describe the domain of the
image. The element <code class="docutils literal notranslate"><span class="pre">U(u,v)</span> <span class="pre">=</span> <span class="pre">u</span></code> and <code class="docutils literal notranslate"><span class="pre">V(u,v)</span> <span class="pre">=</span> <span class="pre">v</span></code>. These matrices can
be used for the evaluation of functions over the image such as
interpolation and warping.</p>
<p>Invoking as a class method with <code class="docutils literal notranslate"><span class="pre">self=None</span></code> is a convenient way to
access <code class="docutils literal notranslate"><span class="pre">base.meshgrid</span></code>.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">U</span><span class="p">,</span> <span class="n">V</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">U</span>
<span class="go">array([[0, 1, 2],</span>
<span class="go">       [0, 1, 2],</span>
<span class="go">       [0, 1, 2]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span>
<span class="go">array([[0, 0, 0],</span>
<span class="go">       [1, 1, 1],</span>
<span class="go">       [2, 2, 2]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Image</span><span class="p">(</span><span class="n">U</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">V</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">image</span>
<span class="go">array([[0, 1, 4],</span>
<span class="go">       [1, 2, 5],</span>
<span class="go">       [4, 5, 8]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">U</span><span class="p">,</span> <span class="n">V</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">U</span>
<span class="go">array([[0, 1, 2, 3],</span>
<span class="go">       [0, 1, 2, 3],</span>
<span class="go">       [0, 1, 2, 3],</span>
<span class="go">       [0, 1, 2, 3]])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="func_cm.html#machinevisiontoolbox.base.meshgrid.meshgrid" title="machinevisiontoolbox.base.meshgrid.meshgrid"><code class="xref py py-func docutils literal notranslate"><span class="pre">meshgrid</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp">
<span class="sig-name descname"><span class="pre">warp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.warp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp" title="Permalink to this definition"></a></dt>
<dd><p>Image warping</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>U</strong> (<em>ndarray</em><em>(</em><em>Wo</em><em>,</em><em>Ho</em><em>)</em>) – u-coordinate array for output image</p></li>
<li><p><strong>V</strong> (<em>ndarray</em><em>(</em><em>Wo</em><em>,</em><em>Ho</em><em>)</em>) – u-coordinate array for output image</p></li>
<li><p><strong>interp</strong> (<em>str</em><em>, </em><em>optional</em>) – interpolation mode, defaults to None</p></li>
<li><p><strong>domain</strong> (<em>(</em><em>ndarray</em><em>(</em><em>H</em><em>,</em><em>W</em><em>)</em><em>, </em><em>ndarray</em><em>(</em><em>H</em><em>,</em><em>W</em><em>)</em><em>)</em><em>, </em><em>optional</em>) – domain of output image, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>warped image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Compute an image by warping the input image.  The output image is
<span class="math notranslate nohighlight">\(H_o \times W_o\)</span> and output pixel (u,v) is interpolated from the
input image coordinate (U[u,v], V[u,v]):</p>
<div class="math notranslate nohighlight">
\[Y_{u,v} = X_{u^\prime, v^\prime} \mbox{, where } u^\prime = U_{u,v}, v^\prime = V_{u,v}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Uses OpenCV.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.interp2d" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.interp2d"><code class="xref py py-meth docutils literal notranslate"><span class="pre">interp2d</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.meshgrid" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.meshgrid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">meshgrid</span></code></a> <a class="reference external" href="https://docs.opencv.org/3.4/da/d54/group__imgproc__transform.html#gab75ef31ce5cdfb5c44b6da5f3b908ea4">opencv.remap</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.interp2d">
<span class="sig-name descname"><span class="pre">interp2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ud</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.interp2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.interp2d" title="Permalink to this definition"></a></dt>
<dd><p>Image warping</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>U</strong> (<em>ndarray</em><em>(</em><em>Ho</em><em>,</em><em>Wo</em><em>)</em>) – u-coordinate array for output image</p></li>
<li><p><strong>V</strong> (<em>ndarray</em><em>(</em><em>Ho</em><em>,</em><em>Wo</em><em>)</em>) – u-coordinate array for output image</p></li>
<li><p><strong>Ud</strong> (<em>ndarray</em><em>(</em><em>H</em><em>,</em><em>W</em><em>)</em><em>, </em><em>optional</em>) – u-coordinate array for domain of input image, defaults to None</p></li>
<li><p><strong>Vd</strong> (<em>ndarray</em><em>(</em><em>H</em><em>,</em><em>W</em><em>)</em><em>, </em><em>optional</em>) – u-coordinate array for domain of input image, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>warped image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Compute an image by warping the input image.  The output image is
<span class="math notranslate nohighlight">\(H_o \times W_o\)</span> and output pixel (u,v) is interpolated from the
input image coordinate (U[v,u], V[v,u]).</p>
<div class="math notranslate nohighlight">
\[Y_{u,v} = X_{u^\prime, v^\prime} \mbox{, where } u^\prime = U_{u,v}, v^\prime = V_{u,v}\]</div>
<p>The coordinates in <code class="docutils literal notranslate"><span class="pre">U</span></code> and <code class="docutils literal notranslate"><span class="pre">V</span></code> are with respect to the domain
of the input image but can be overridden by specifying <code class="docutils literal notranslate"><span class="pre">Ud</span></code> and <code class="docutils literal notranslate"><span class="pre">Vd</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Uses SciPy</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">warp</span></code></a> <a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.meshgrid" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.meshgrid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">meshgrid</span></code></a> <code class="xref py py-meth docutils literal notranslate"><span class="pre">uspan</span></code> <code class="xref py py-meth docutils literal notranslate"><span class="pre">vspan</span></code> <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.griddata.html#scipy.interpolate.griddata" title="(in SciPy v1.9.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.interpolate.griddata</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp_affine">
<span class="sig-name descname"><span class="pre">warp_affine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.warp_affine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp_affine" title="Permalink to this definition"></a></dt>
<dd><p>Affine warp of image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>M</strong> (<em>ndarray</em><em>(</em><em>2</em><em>,</em><em>3</em><em>)</em><em>, </em><em>SE2</em>) – affine matrix</p></li>
<li><p><strong>inverse</strong> (<em>bool</em><em>, </em><em>optional</em>) – warp with inverse of <code class="docutils literal notranslate"><span class="pre">M</span></code>, defaults to False</p></li>
<li><p><strong>size</strong> (<em>array_like</em><em>(</em><em>2</em><em>)</em><em>, </em><em>optional</em>) – size of output image, defaults to size of input image</p></li>
<li><p><strong>bgcolor</strong> (<em>scalar</em><em>, </em><em>str</em><em>, </em><em>array_like</em><em>, </em><em>optional</em>) – background color, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>warped image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Apply an affine warp to the image. Pixels in the output image that
correspond to pixels outside the input image are set to <code class="docutils literal notranslate"><span class="pre">bgcol</span></code>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}Y_{u,v} = X_{u^\prime, v^\prime} \mbox{, where } \begin{pmatrix} u^\prime \\ v^\prime \end{pmatrix} = \mat{M} \begin{pmatrix} u \\ v \\ 1 \end{pmatrix}\end{split}\]</div>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath</span> <span class="kn">import</span> <span class="n">SE2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="n">SE2</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>  <span class="c1"># scale and translate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span>
<span class="go">array([[  0.25,   0.  , 100.  ],</span>
<span class="go">       [  0.  ,   0.25, 200.  ],</span>
<span class="go">       [  0.  ,   0.  ,   1.  ]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">warp_affine</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">bgcolor</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>  <span class="c1"># unmapped pixels are NaNs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">disp</span><span class="p">(</span><span class="n">badcolor</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>  <span class="c1"># display warped image with NaNs as red</span>
<span class="go">&lt;matplotlib.image.AxesImage object at 0x7f7a13424c40&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only the first two rows of <code class="docutils literal notranslate"><span class="pre">M</span></code> are used.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">warp</span></code></a> <a class="reference external" href="https://docs.opencv.org/3.4/da/d54/group__imgproc__transform.html#ga0203d9ee5fcd28d40dbc4a1ea4451983">opencv.warpAffine</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp_perspective">
<span class="sig-name descname"><span class="pre">warp_perspective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">H</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.warp_perspective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp_perspective" title="Permalink to this definition"></a></dt>
<dd><p>Perspective warp</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>H</strong> (<em>ndarray</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – homography</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – interpolation mode: ‘linear’ [default], ‘nearest’</p></li>
<li><p><strong>inverse</strong> (<em>bool</em><em>, </em><em>optional</em>) – use inverse of <code class="docutils literal notranslate"><span class="pre">H</span></code>, defaults to False</p></li>
<li><p><strong>tile</strong> (<em>bool</em><em>, </em><em>optional</em>) – return minimal enclosing tile, defaults to False</p></li>
<li><p><strong>size</strong> (<em>array_like</em><em>(</em><em>2</em><em>)</em><em>, </em><em>optional</em>) – size of output image, defaults to size of input image</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – H must be a 3x3 NumPy array</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>warped image</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Applies a perspective warp to the input image.</p>
<div class="math notranslate nohighlight">
\[\begin{split}Y_{u,v} = X_{u^\prime, v^\prime} \mbox{, where } u^\prime=\frac{\tilde{u}}{\tilde{w}}, v^\prime=\frac{\tilde{v}}{\tilde{w}}, \begin{pmatrix} \tilde{u} \\ \tilde{v} \\ \tilde{w} \end{pmatrix} = \mat{H} \begin{pmatrix} u \\ v \\ 1 \end{pmatrix}\end{split}\]</div>
<p>The resulting image may
be smaller or larger than the input image.  If <code class="docutils literal notranslate"><span class="pre">tile</span></code> is True then
the output image is the smallest rectangle that contains the warped
result, and its position with respect to the origin of the input image,
and the coordinates of the four corners of the input image.</p>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control for Python, Section 14.8, P. Corke, Springer 2023.</p></li>
</ul>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><a class="reference internal" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp" title="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.warp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">warp</span></code></a> <a class="reference external" href="https://docs.opencv.org/3.4/da/d54/group__imgproc__transform.html#gaf73673a7e8e18ec6963e3774e6a94b87">opencv.warpPerspective</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.undistort">
<span class="sig-name descname"><span class="pre">undistort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.undistort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.undistort" title="Permalink to this definition"></a></dt>
<dd><p>Undistort image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>K</strong> (<em>ndarray</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – camera intrinsics</p></li>
<li><p><strong>dist</strong> (<em>array_like</em><em>(</em><em>5</em><em>)</em>) – lens distortion parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>undistorted image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></p>
</dd>
</dl>
<p>Remove lens distortion from image.</p>
<p>The distortion coefficients are <span class="math notranslate nohighlight">\((k_1, k_2, p_1, p_2, k_3)\)</span>
where <span class="math notranslate nohighlight">\(k_i\)</span> are radial distortion coefficients and <span class="math notranslate nohighlight">\(p_i\)</span> are
tangential distortion coefficients.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageCollection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;calibration/*.jpg&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">K</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mf">534.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">341.5</span><span class="p">],</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">534.1</span><span class="p">,</span> <span class="mf">232.9</span><span class="p">],</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distortion</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="o">-</span><span class="mf">0.293</span><span class="p">,</span> <span class="mf">0.1077</span><span class="p">,</span> <span class="mf">0.00131</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.109e-05</span><span class="p">,</span> <span class="mf">0.04348</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">images</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">.</span><span class="n">undistort</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">distortion</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
<span class="go">&lt;matplotlib.image.AxesImage object at 0x7f03aa41bbe0&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">images2C</span></code> <a class="reference external" href="https://docs.opencv.org/3.4/da/d54/group__imgproc__transform.html#ga69f2545a8b62a6b0fc2ee060dc30559d">opencv.undistort</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageReshape.ImageReshapeMixin.view1d">
<span class="sig-name descname"><span class="pre">view1d</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageReshape.html#ImageReshapeMixin.view1d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageReshape.ImageReshapeMixin.view1d" title="Permalink to this definition"></a></dt>
<dd><p>Convert image to a column view</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>column view</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray(N,) or ndarray(N, np)</p>
</dd>
</dl>
<p>A greyscale image is converted to a 1D array in row-major (C) order, 
ie. row 0, row 1 etc.</p>
<p>A color image is converted to a 2D array in row-major (C) order, with
one row per pixel, and each row is the pixel value, the values of its
planes.</p>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">machinevisiontoolbox</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;street.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">view1d</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1089280,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Image</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="s1">&#39;monalisa.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">view1d</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(473900, 3)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This creates a view of the original image, so operations on
the column will affect the original image.</p>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="image_color.html" class="btn btn-neutral float-left" title="Color operations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="image_spatial.html" class="btn btn-neutral float-right" title="Spatial operations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-, Peter Corke.
      <span class="lastupdated">Last updated on 28-Sep-2022.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>